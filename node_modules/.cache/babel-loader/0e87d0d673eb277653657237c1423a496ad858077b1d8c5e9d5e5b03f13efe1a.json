{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport vuetify from './plugins/vuetify';\nimport router from './router';\nimport * as Keycloak from 'keycloak-js';\nVue.config.productionTip = false;\nnew Vue({\n  vuetify,\n  router,\n  render: h => h(App)\n}).$mount('#app');\nlet initOptions = {\n  url: 'http://127.0.0.1:8081/',\n  realm: 'myrealm',\n  clientId: 'myclient',\n  onLoad: 'login-required'\n};\nlet keycloak = Keycloak(initOptions);\nkeycloak.init({\n  onLoad: initOptions.onLoad\n}).then(auth => {\n  if (!auth) {\n    window.location.reload();\n  } else {\n    Vue.$log.info(\"Authenticated\");\n    new Vue({\n      el: '#app',\n      render: h => h(App, {\n        props: {\n          keycloak: keycloak\n        }\n      })\n    });\n  }\n\n  //Token Refresh\n  setInterval(() => {\n    keycloak.updateToken(70).then(refreshed => {\n      if (refreshed) {\n        Vue.$log.info('Token refreshed' + refreshed);\n      } else {\n        Vue.$log.warn('Token not refreshed, valid for ' + Math.round(keycloak.tokenParsed.exp + keycloak.timeSkew - new Date().getTime() / 1000) + ' seconds');\n      }\n    }).catch(() => {\n      Vue.$log.error('Failed to refresh token');\n    });\n  }, 6000);\n}).catch(() => {\n  Vue.$log.error(\"Authenticated Failed\");\n});","map":{"version":3,"names":["Vue","App","vuetify","router","Keycloak","config","productionTip","render","h","$mount","initOptions","url","realm","clientId","onLoad","keycloak","init","then","auth","window","location","reload","$log","info","el","props","setInterval","updateToken","refreshed","warn","Math","round","tokenParsed","exp","timeSkew","Date","getTime","catch","error"],"sources":["/home/mylinh/Schreibtisch/webshopFrontEnd/webshopFrontend/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\nimport router from './router'\nimport * as Keycloak from 'keycloak-js'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  router,\n  render: h => h(App)\n}).$mount('#app')\n\nlet initOptions = {\n  url: 'http://127.0.0.1:8081/', realm: 'myrealm', clientId: 'myclient', onLoad: 'login-required'\n}\n\nlet keycloak = Keycloak(initOptions);\n\nkeycloak.init({ onLoad: initOptions.onLoad }).then((auth) => {\n  if (!auth) {\n    window.location.reload();\n  } else {\n    Vue.$log.info(\"Authenticated\");\n\n    new Vue({\n      el: '#app',\n      render: h => h(App, { props: { keycloak: keycloak } })\n    })\n  }\n\n\n//Token Refresh\n  setInterval(() => {\n    keycloak.updateToken(70).then((refreshed) => {\n      if (refreshed) {\n        Vue.$log.info('Token refreshed' + refreshed);\n      } else {\n        Vue.$log.warn('Token not refreshed, valid for '\n          + Math.round(keycloak.tokenParsed.exp + keycloak.timeSkew - new Date().getTime() / 1000) + ' seconds');\n      }\n    }).catch(() => {\n      Vue.$log.error('Failed to refresh token');\n    });\n  }, 6000)\n\n}).catch(() => {\n  Vue.$log.error(\"Authenticated Failed\");\n});"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,OAAO,MAAM,mBAAmB;AACvC,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAO,KAAKC,QAAQ,MAAM,aAAa;AAEvCJ,GAAG,CAACK,MAAM,CAACC,aAAa,GAAG,KAAK;AAEhC,IAAIN,GAAG,CAAC;EACNE,OAAO;EACPC,MAAM;EACNI,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACP,GAAG;AACpB,CAAC,CAAC,CAACQ,MAAM,CAAC,MAAM,CAAC;AAEjB,IAAIC,WAAW,GAAG;EAChBC,GAAG,EAAE,wBAAwB;EAAEC,KAAK,EAAE,SAAS;EAAEC,QAAQ,EAAE,UAAU;EAAEC,MAAM,EAAE;AACjF,CAAC;AAED,IAAIC,QAAQ,GAAGX,QAAQ,CAACM,WAAW,CAAC;AAEpCK,QAAQ,CAACC,IAAI,CAAC;EAAEF,MAAM,EAAEJ,WAAW,CAACI;AAAO,CAAC,CAAC,CAACG,IAAI,CAAEC,IAAI,IAAK;EAC3D,IAAI,CAACA,IAAI,EAAE;IACTC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;EAC1B,CAAC,MAAM;IACLrB,GAAG,CAACsB,IAAI,CAACC,IAAI,CAAC,eAAe,CAAC;IAE9B,IAAIvB,GAAG,CAAC;MACNwB,EAAE,EAAE,MAAM;MACVjB,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACP,GAAG,EAAE;QAAEwB,KAAK,EAAE;UAAEV,QAAQ,EAAEA;QAAS;MAAE,CAAC;IACvD,CAAC,CAAC;EACJ;;EAGF;EACEW,WAAW,CAAC,MAAM;IAChBX,QAAQ,CAACY,WAAW,CAAC,EAAE,CAAC,CAACV,IAAI,CAAEW,SAAS,IAAK;MAC3C,IAAIA,SAAS,EAAE;QACb5B,GAAG,CAACsB,IAAI,CAACC,IAAI,CAAC,iBAAiB,GAAGK,SAAS,CAAC;MAC9C,CAAC,MAAM;QACL5B,GAAG,CAACsB,IAAI,CAACO,IAAI,CAAC,iCAAiC,GAC3CC,IAAI,CAACC,KAAK,CAAChB,QAAQ,CAACiB,WAAW,CAACC,GAAG,GAAGlB,QAAQ,CAACmB,QAAQ,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,GAAG,IAAI,CAAC,GAAG,UAAU,CAAC;MAC1G;IACF,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;MACbrC,GAAG,CAACsB,IAAI,CAACgB,KAAK,CAAC,yBAAyB,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC,EAAE,IAAI,CAAC;AAEV,CAAC,CAAC,CAACD,KAAK,CAAC,MAAM;EACbrC,GAAG,CAACsB,IAAI,CAACgB,KAAK,CAAC,sBAAsB,CAAC;AACxC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}